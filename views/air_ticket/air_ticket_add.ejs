<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Add Ticket</title>
 
  </head>
  <body>
    <%-include("../partials/header.ejs")%>
    <br>

    <center><h1 style="font-family: 'Playfair Display', serif;
      font-optical-sizing: auto;
      font-weight: 700;
      font-style: bold;">Add Air Ticket</h1></center>
      <hr>
    <div class="container-sm col-6">
      <form class="row g-3" method="post" action="/air_ticket_added">
        <div class="col-md-6">
          <label for="inputEmail4" class="form-label">Customer Name</label>
          <input type="text" class="form-control border border-black" id="inputEmail4" name="air_ticket_customer_name" list="NameOptions">
          <datalist id="NameOptions">
            <%previous_tickets.forEach((ticket)=>{%>
              <option value="<%=ticket.air_ticket_customer_name%>">
            <%});%>
          </datalist>
        </div>
        <div class="col-md-6">
          <label for="inputEmail4" class="form-label">Flight Number</label>
          <input type="text" class="form-control border border-black" id="inputEmail4" name="flight_number" list="NumberOptions">
          <datalist id="NumberOptions">
            <%previous_tickets.forEach((ticket)=>{%>
              <option value="<%=ticket.flight_number%>">
            <%});%>
          </datalist>
        </div>
        <div class="col-md-6">
          <label for="inputAddress" class="form-label">Flight Date (DD/MM/YYYY)</label>
          <input type="text" class="form-control border border-black" id="inputAddress" name="flight_date" list="DateOptions">
          <datalist id="DateOptions">
            <%previous_tickets.forEach((ticket)=>{%>
              <option value="<%=ticket.flight_date%>">
            <%});%>
          </datalist>
        </div>
        <div class="col-md-6">
          <label for="inputAddress2" class="form-label">Flight Time (HH:MM)</label>
          <input type="text" class="form-control border border-black" id="inputAddress2" name="flight_time" list="TimeOptions">
          <datalist id="TimeOptions">
            <%previous_tickets.forEach((ticket)=>{%>
              <option value="<%=ticket.flight_time%>">
            <%});%>
          </datalist>
        </div>
        <div class="col-md-6">
          <label for="inputCity" class="form-label">Flight PNR</label>
          <input type="text" class="form-control border border-black" id="inputCity" name="flight_pnr" list="PnrOptions">
          <datalist id="PnrOptions">
            <%previous_tickets.forEach((ticket)=>{%>
              <option value="<%=ticket.flight_pnr%>">
            <%});%>
          </datalist>
        </div>
        <div class="col-md-6">
          <label for="inputState" class="form-label">Flight From/To (eg: DEL/AYJ)</label>
          <input type="text" class="form-control border border-black" id="inputCity" name="flight_travel_location" list="LocationOptions">
          <datalist id="LocationOptions">
            <%previous_tickets.forEach((ticket)=>{%>
              <option value="<%=ticket.flight_travel_location%>">
            <%});%>
          </datalist>
        </div>
        <div class="col-md-6">
          <label for="inputState" class="form-label">Quantity</label>
          <input type="number" class="form-control border border-black" id="inputCity" name="flight_quantity" list="QuantityOptions">
          <datalist id="QuantityOptions">
            <%previous_tickets.forEach((ticket)=>{%>
              <option value="<%=ticket.flight_quantity%>">
            <%});%>
          </datalist>
        </div>
        <div class="col-md-6">
          <label for="inputState" class="form-label">Rate per Qty</label>
          <input type="number" class="form-control border border-black" id="inputCity" name="flight_rate" list="RateOptions">
          <datalist id="RateOptions">
            <%previous_tickets.forEach((ticket)=>{%>
              <option value="<%=ticket.flight_rate%>">
            <%});%>
          </datalist>
        </div>
        <div class="col-md-6">
          <label for="inputState" class="form-label">SAC Code</label>
          <input type="text" class="form-control border border-black" id="inputCity" value="00440032" name="flight_sac_code" list="CodeOptions">
          <datalist id="CodeOptions">
            <%previous_tickets.forEach((ticket)=>{%>
              <option value="<%=ticket.flight_sac_code%>">
            <%});%>
          </datalist>
        </div>
        
        <div class="col-md-6">
          <label for="select_mcq" class="form-label">Biller Name</label>
          <select class="form-select border border-success" aria-label="Default select example" name="air_ticket_biller_id" id="select_mcq">
            <% customer.forEach(function(customer){%>
              <option value="<%=customer.customer_id%>"><%=customer.customer_name%></option>
              <%})%>
            </select>
          </div>
        <div class="col-12">
          <button type="submit" class="btn btn-primary">ADD</button>
        </div>
      </form>
      <br>
      
      <br>
    </div>

  </body>
<script>
    document.addEventListener('DOMContentLoaded', function () {
  const selectElement = document.getElementById('select_mcq');

  // Initially display one option
  selectElement.size = 1;

  // Expand to show 5 options when clicked
  selectElement.addEventListener('click', function () {
    this.size = 5;
  });

  // Collapse to show only the selected option after selection
  selectElement.addEventListener('change', function () {
    this.size = 1;
  });

  // Collapse when focus is lost (optional, for better UX)
  selectElement.addEventListener('blur', function () {
    this.size = 1;
  });
});
</script>
</html>
